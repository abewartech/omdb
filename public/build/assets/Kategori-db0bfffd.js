import{r as o,j as s,a as e,H as S,e as l}from"./app-fbf3d08a.js";import{A as y}from"./AuthenticatedLayout-6c28bf07.js";import{u as E,B as d,M as N,a as u,L as h,E as I,D as K,b as A,c as D,T as M}from"./Edit-bf82086b.js";import"./ApplicationLogo-63bf4ea2.js";import"./transition-c48b09a6.js";import"./MoreVert-778b5980.js";const F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function R(n){const[p,f]=o.useState(!1),[b,r]=o.useState(!1),[g,x]=o.useState([]),i=E({initialValues:{id:null,name:""},onSubmit:t=>{p?l.post("/api/editkategori",t).then(a=>{a.data.success&&window.location.reload()}):l.post("/api/kategori",t).then(a=>{a.data.success&&window.location.reload()})}}),c=()=>r(!0),m=()=>r(!1),w=o.useMemo(()=>[{accessorKey:"id",header:"ID"},{accessorKey:"name",header:"Name"}],[]);o.useEffect(()=>{n.data&&x(n.data)});const k=(t,a)=>{t(),c(),i.setFieldValue("id",a.original.id),i.setFieldValue("name",a.original.name),f(!0)},v=(t,a)=>{t(),l.delete(`/api/kategori/${a.original.id}`).then(C=>{C.data.success&&window.location.reload()})};return s(y,{auth:n.auth,errors:n.errors,children:[e(S,{title:"Kategori"}),s("div",{className:"py-12",children:[e("div",{className:"flex flex-row-reverse",children:e("div",{className:"basis-1/5 mb-5",children:e(d,{variant:"contained",onClick:c,children:"Add Kategori"})})}),e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e(N,{columns:w,data:g,enableRowActions:!0,muiTablePaginationProps:{rowsPerPageOptions:[5,10,15]},initialState:{pagination:{pageSize:5}},renderRowActionMenuItems:({closeMenu:t,row:a})=>[s(u,{onClick:()=>{k(t,a)},sx:{m:0},children:[e(h,{children:e(I,{})}),"Edit"]},0),s(u,{onClick:()=>{v(t,a)},sx:{m:0},children:[e(h,{children:e(K,{})}),"Delete"]},0)]})})})]}),e(A,{open:b,onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:s(D,{sx:F,component:"form",noValidate:!0,autoComplete:"off",onSubmit:i.handleSubmit,children:[e("input",{type:"hidden",name:"id",value:i.values.id}),e(M,{required:!0,label:"Name",name:"name",fullWidth:!0,onChange:i.handleChange,value:i.values.name,className:"my-5"}),e(d,{type:"submit",children:"Submit"}),e(d,{onClick:m,children:"Cancel"})]})})]})}export{R as default};
